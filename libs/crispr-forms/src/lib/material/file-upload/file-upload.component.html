<crispr-field-container
  [config]="config"
  [group]="group">
  <div *ngIf="selectedFiles?.length > 0" class="selected-files-container">
    <h3 class="mat-h3">Selected Files</h3>
    <crispr-selected-file
      *ngFor="let file of selectedFiles; let i = index;" [fileName]="file.name"
      [progress]="(fileProgress && fileProgress[i]) | async">
    </crispr-selected-file>
  </div>
  <button
    *ngIf="selectedFiles?.length > 0"
    mat-raised-button
    (click)="resetFileInput()"
    type="button"
    aria-label="Remove Selected File(s)">
      CLEAR FILES
      <mat-icon>delete</mat-icon>
  </button>
  <button
    mat-button
    type="button"
    color="accent"
    (click)="fileInput.click()"
    [attr.aria-label]="config.controlName">
    {{config.selectButtonText}}
      <input
        #fileInput
        type="file"
        style="display: none"
        [accept]="config.acceptedTypes"
        [multiple]="config.allowMultipleFiles"
        (change)="filesChanged($event)"/>

  </button>
  <button
    mat-raised-button
    type="button"
    color="primary"
    class="file-input-button"
    [disabled]="!selectedFiles?.length"
    (click)="uploadFiles()"
    *ngIf="config.showUploadButton"
    [attr.aria-label]="config.uploadButtonText">
    {{ config.uploadButtonText }}{{config.allowMultipleFiles && 'S'}}
  </button>




</crispr-field-container>
